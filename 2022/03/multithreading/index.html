<!DOCTYPE html>
<html lang="en" >

  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">


<meta property="og:title" content="Multithreading" />
<meta property="og:description" content="è®°å½• JavaSE ä¸­å¤šçº¿ç¨‹çš„ä¸€äº›åŸºæœ¬çš„æ¦‚å¿µå’Œæ–¹æ³•ä½¿ç”¨" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://junq0420.github.io/2022/03/multithreading/" />
<meta property="article:published_time" content="2022-03-19T13:55:40+08:00" />
<meta property="article:modified_time" content="2022-03-19T13:55:40+08:00" />



<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Multithreading"/>
<meta name="twitter:description" content="è®°å½• JavaSE ä¸­å¤šçº¿ç¨‹çš„ä¸€äº›åŸºæœ¬çš„æ¦‚å¿µå’Œæ–¹æ³•ä½¿ç”¨"/>
<meta name="generator" content="Hugo 0.84.0" />


    
<script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "BlogPosting",
  "headline": "Multithreading",
  "url": "https://junq0420.github.io/2022/03/multithreading/",
  "wordCount": "1308",
  "datePublished": "2022-03-19T13:55:40+08:00",
  "dateModified": "2022-03-19T13:55:40+08:00",
  "author": {
    "@type": "Person",
    "name": "Jun qiang"
  },
  "keywords": "Java, Java_Advance"
}
</script>



    <link rel="canonical" href="https://junq0420.github.io/2022/03/multithreading/">

    <title>Multithreading | My Blog</title>

    
    <!-- combined, minified CSS -->
    
    <link href="https://junq0420.github.io/css/style.5661e2c97fcfc5e47dc9df16e3ca8a3598b1d2f4acbec96eec49c72a9d6e7a31.css" rel="stylesheet" integrity="sha256-VmHiyX/PxeR9yd8W48qKNZix0vSsvslu7EnHKp1uejE=" crossorigin="anonymous">
    

    <!-- minified Font Awesome for SVG icons -->
    
    <script defer src="https://junq0420.github.io/js/fontawesome.min.f5072c55a0721857184db93a50561d7dc13975b4de2e19db7f81eb5f3fa57270.js" integrity="sha256-9QcsVaByGFcYTbk6UFYdfcE5dbTeLhnbf4HrXz&#43;lcnA=" crossorigin="anonymous"></script>

    <!-- RSS 2.0 feed -->
    

    

  </head>

  <body>

    
    <div class="blog-masthead">
      <div class="container">
        <nav class="nav blog-nav">
          <a class="nav-link " href="https://junq0420.github.io">Home</a>
          
          <a class="nav-link" href="/archives/" title="">Archives</a>
          
          
          <a class="nav-link" href="/categories/" title="">Categories</a>
          
          
          <a class="nav-link" href="/tags/" title="">Tags</a>
          
        </nav>
      </div>
    </div>
    

    
    
    <header class="blog-header">
      <div class="container">
        <h1 class="blog-title" dir="auto"><a href="https://junq0420.github.io" rel="home">My Blog</a></h1>
        <p class="lead blog-description" dir="auto"><ul>
<li>ä¿æŒå…´è¶£ï¼ŒæŒç»­å­¦ä¹  :)</li>
</ul>
</p>
      </div>
    </header>
    
    

    
    <div class="container">
      <div class="row">
        <div class="col-sm-8 blog-main">

          


<article class="blog-post">
  <header>
    <h2 class="blog-post-title" dir="auto"><a href="https://junq0420.github.io/2022/03/multithreading/">Multithreading</a></h2>
    <p class="blog-post-meta">
<time datetime="2022-03-19T13:55:40+08:00">2022-03-19</time>
 in 
<span class="fas fa-folder" aria-hidden="true"></span>&nbsp;<a href="/categories/java/" rel="category tag">Java</a>


<span class="fas fa-tag" aria-hidden="true"></span>&nbsp;<a href="/tags/java_advance/" rel="tag">Java_Advance</a>

</p>
  </header>
  <p>è®°å½• JavaSE ä¸­å¤šçº¿ç¨‹çš„ä¸€äº›åŸºæœ¬çš„æ¦‚å¿µå’Œæ–¹æ³•ä½¿ç”¨</p>

<blockquote>
<p><strong>å­¦ä¹ ç¬”è®°ï¼Œä»…ä¾›å‚è€ƒ</strong></p>

<p><strong>å‚è€ƒ</strong>ï¼š<a href="https://www.yuque.com/books/share/ddbdba56-dc9f-4997-9e18-d9e69309d343/wgctzt">Bç«™Mirco_Frank - java è¿›é˜¶</a> | <a href="https://docs.oracle.com/javase/tutorial/essential/concurrency/index.html">å®˜ç½‘æ•™ç¨‹</a> | <a href="https://www.javatpoint.com/multithreading-in-java">javatpoint</a></p>
</blockquote>

<hr />

<h2 id="ç›®å½•">ç›®å½•</h2>

<ul>
<li><p><a href="#ç›¸å…³æ¦‚å¿µ">ç›¸å…³æ¦‚å¿µ</a></p></li>

<li><p><a href="#åˆ›å»ºçº¿ç¨‹">åˆ›å»ºçº¿ç¨‹</a></p>

<ul>
<li><p><a href="#ç»§æ‰¿Threadç±»">ç»§æ‰¿ Thread ç±»</a></p></li>

<li><p><a href="#å®ç°Runnableæ¥å£">å®ç° Runnable æ¥å£</a></p></li>
</ul></li>

<li><p><a href="#å¤šçº¿ç¨‹æŠ¢é‹">å¤šçº¿ç¨‹æŠ¢é‹</a></p>

<ul>
<li><a href="#å®ˆæŠ¤çº¿ç¨‹">å®ˆæŠ¤çº¿ç¨‹</a></li>
</ul></li>

<li><p><a href="#çº¿ç¨‹åŒæ­¥">çº¿ç¨‹åŒæ­¥</a></p>

<ul>
<li><p><a href="#é”å¯¹è±¡">é”å¯¹è±¡</a></p></li>

<li><p><a href="#åŒæ­¥æ–¹æ³•">åŒæ­¥æ–¹æ³•</a></p></li>

<li><p><a href="#åŒæ­¥é”">åŒæ­¥é”</a></p></li>
</ul></li>

<li><p><a href="#Threadç±»">Thread ç±»</a></p></li>

<li><p><a href="#çº¿ç¨‹çŠ¶æ€">çº¿ç¨‹çŠ¶æ€</a></p></li>

<li><p><a href="#waitå’Œnotify">wait å’Œ notify</a></p></li>
</ul>

<hr />

<h2 id="a-name-ç›¸å…³æ¦‚å¿µ-a-ç›¸å…³æ¦‚å¿µ"><a name="ç›¸å…³æ¦‚å¿µ">ğŸ“–</a> ç›¸å…³æ¦‚å¿µ</h2>

<ul>
<li><p><strong>å•æ ¸</strong> ï¼š å½“è®¡ç®—æœºåªæœ‰ä¸€ä¸ªæ ¸æ—¶ï¼Œè¡¨é¢ä¸Šå®ƒå¥½åƒåŒæ—¶åœ¨è¿è¡Œå¤šä¸ªç¨‹åºï¼Œå…¶å®æ¯ä¸ªæ—¶åˆ»å®ƒä»…æ‰§è¡Œä¸€ä¸ªç¨‹åºï¼Œå…¶ä»–çš„ç¨‹åºå¤„äºæŒ‚èµ·ï¼ˆæš‚åœï¼‰ï¼Œç”±äº CPU çš„è¿ç®—é€Ÿåº¦å¿«ï¼Œç¨‹åºä¹‹é—´çš„è½¬æ¢å¿«ï¼Œå¯¼è‡´çœ‹èµ·æ¥å¥½åƒæ˜¯åŒæ—¶è¿›è¡Œçš„ï¼ˆä¸€ä¸ªäººå¹²å¤šæ ·æ´»ï¼‰</p></li>

<li><p><strong>å¤šæ ¸</strong> ï¼š ç°åœ¨çš„è®¡ç®—æœºéƒ½æ˜¯å¤šæ ¸çš„ï¼Œæ¯ä¸ªæ ¸æ‰§è¡Œä¸€ä¸ªç¨‹åºï¼Œä¸ç”¨å†æ¥å›åˆ‡æ¢ï¼Œä»è€Œæé«˜äº†æ•ˆç‡ï¼ˆå¤šä¸ªäººå¹²å¤šæ ·æ´»ï¼‰</p></li>

<li><p><strong>å¹¶å‘</strong> ï¼š å•ä¸ª CPU æ‰§è¡Œå¤šä¸ªçº¿ç¨‹ï¼Œç›¸äº’äº‰æŠ¢èµ„æºï¼Œæ¥å›åˆ‡æ¢ï¼ˆæ²¡é’±ï¼Œç”¨å¤šçº¿ç¨‹å¹¶å‘æ¥æé«˜æ•ˆç‡ï¼‰</p></li>

<li><p><strong>å¹¶è¡Œ</strong> ï¼š å¤šä¸ª CPU åŒæ—¶æ‰§è¡Œä¸åŒçš„çº¿ç¨‹ï¼Œäº’è¡¥äº‰æŠ¢ CPU èµ„æºï¼ˆæœ‰é’±ï¼‰</p></li>

<li><p><strong>è¿›ç¨‹</strong> ï¼š é€šå¸¸æœ‰ä¸€å¥—å®Œæ•´ã€ç‹¬æœ‰çš„åŸºæœ¬è¿è¡Œæ—¶èµ„æºï¼Œè€Œä¸”å®ƒä»¬æœ‰è‡ªå·±çš„å†…å­˜ç©ºé—´</p></li>

<li><p><strong>çº¿ç¨‹</strong> ï¼š åˆ›å»ºçº¿ç¨‹è¦æ¯”åˆ›å»ºè¿›ç¨‹æ›´çœèµ„æºï¼Œçº¿ç¨‹å¯„ç”Ÿäºè¿›ç¨‹ï¼Œä¸€ä¸ªè¿›ç¨‹è‡³å°‘æœ‰ä¸€ä¸ªçº¿ç¨‹ï¼Œè¿™äº› <strong>çº¿ç¨‹å…±äº«è¿›ç¨‹çš„èµ„æº</strong> ï¼Œä»è€Œä¿è¯äº†é«˜æ•ˆä½†ä¹Ÿå­˜åœ¨éšæ‚£</p></li>

<li><p><strong>ä¸»çº¿ç¨‹ï¼ˆmain threadï¼‰</strong> ï¼š é€šå¸¸æŒ‡ main æ–¹æ³•ï¼Œå®ƒæœ‰èƒ½åŠ›åˆ›å»ºå…¶ä»–çš„çº¿ç¨‹</p></li>

<li><p><strong>å¤šçº¿ç¨‹</strong> ï¼š ä¸€ä¸ªè¿›ç¨‹çš„å¤šä¸ªçº¿ç¨‹åŒæ—¶å¯¹è¯¥è¿›ç¨‹çš„æŸä¸ªå…±äº«å˜é‡è¿›è¡Œæ“ä½œ</p></li>
</ul>

<p><img src="https://cdn.jsdelivr.net/gh/junq0420/blog_image/Multithreading_relation.jpg" alt="è¿›ç¨‹çº¿ç¨‹å…³ç³»å›¾" /></p>

<hr />

<h2 id="a-name-åˆ›å»ºçº¿ç¨‹-a-åˆ›å»ºçº¿ç¨‹"><a name="åˆ›å»ºçº¿ç¨‹">ğŸ§µ</a> åˆ›å»ºçº¿ç¨‹</h2>

<p>åˆ›å»ºçº¿ç¨‹æœ‰ä¸¤ç§æ–¹å¼ï¼šç»§æ‰¿ Thread ç±» å’Œ å®ç° Runnable æ¥å£ï¼Œå…ˆçœ‹ç»§æ‰¿ Thread ç±»</p>

<h3 id="a-name-ç»§æ‰¿threadç±»-a-ç»§æ‰¿-thread-ç±»"><a name="ç»§æ‰¿Threadç±»"></a>ç»§æ‰¿ Thread ç±»</h3>

<p>å…ˆå†™ç»§æ‰¿ç±», ç„¶åå† Test ç±»çš„ main æ–¹æ³•ä¸­æ¥å®ä¾‹å®ƒï¼Œä¸ºäº†å±•ç°å„çº¿ç¨‹æ¥å›æŠ¢å è¿›ç¨‹ï¼ˆç¨‹åºï¼‰èµ„æºï¼Œç”¨ while (true) æ­»å¾ªç¯</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#75715e">/**
</span><span style="color:#75715e"> *  ç»§æ‰¿ Thread ç±»
</span><span style="color:#75715e"> *  é‡å†™çˆ¶ç±»çš„ run() æ–¹æ³• 
</span><span style="color:#75715e"> */</span>
<span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">MyThread</span> <span style="color:#66d9ef">extends</span> Thread <span style="color:#f92672">{</span>
    <span style="color:#a6e22e">@Override</span>
    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">run</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
        <span style="color:#66d9ef">while</span> <span style="color:#f92672">(</span><span style="color:#66d9ef">true</span><span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
            System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;my thread running...&#34;</span><span style="color:#f92672">);</span>
        <span style="color:#f92672">}</span>
    <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span>

<span style="color:#75715e">/*************************åˆ†éš”çº¿****************************/</span>

<span style="color:#75715e">/**
</span><span style="color:#75715e"> *  æµ‹è¯•ç±»
</span><span style="color:#75715e"> *  å°†ä¸Šé¢ç»§æ‰¿ Thread çš„ç±»å®ä¾‹åŒ–
</span><span style="color:#75715e"> */</span>

<span style="color:#66d9ef">public</span> calss Test <span style="color:#f92672">{</span>
    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">main</span><span style="color:#f92672">(</span>String<span style="color:#f92672">[]</span> args<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
        MyThread myThread <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> MyThread<span style="color:#f92672">();</span>
        <span style="color:#75715e">// è°ƒç”¨ start æ–¹æ³•ï¼Œå¯åŠ¨çº¿ç¨‹ï¼Œè®©å…¶å˜ä¸º Runnableï¼ˆå¯è¿è¡ŒçŠ¶æ€ï¼‰
</span><span style="color:#75715e"></span>        myThread<span style="color:#f92672">.</span><span style="color:#a6e22e">start</span><span style="color:#f92672">();</span>

        <span style="color:#66d9ef">while</span> <span style="color:#f92672">(</span><span style="color:#66d9ef">true</span><span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
            System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;main thread running...&#34;</span><span style="color:#f92672">)</span>
        <span style="color:#f92672">}</span>
    <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span></code></pre></div>
<p>ç»“æœå›¾å¦‚ä¸‹ï¼š</p>

<p><img src="https://cdn.jsdelivr.net/gh/junq0420/blog_image/ExtendThread.jpg" alt="ç»§æ‰¿Threadç±»" /></p>

<h3 id="a-name-å®ç°runnableæ¥å£-a-å®ç°-runnable-æ¥å£"><a name="å®ç°Runnableæ¥å£"></a>å®ç° Runnable æ¥å£</h3>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#75715e">/**
</span><span style="color:#75715e"> *  å®ç° Runnable æ¥å£
</span><span style="color:#75715e"> *  é‡å†™çˆ¶ç±»çš„ run() æ–¹æ³• 
</span><span style="color:#75715e"> */</span>
<span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">MyThread</span> <span style="color:#66d9ef">implements</span> Runnable <span style="color:#f92672">{</span>
    <span style="color:#a6e22e">@Override</span>
    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">run</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
        <span style="color:#66d9ef">while</span> <span style="color:#f92672">(</span><span style="color:#66d9ef">true</span><span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
            System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;my thread running...&#34;</span><span style="color:#f92672">);</span>
        <span style="color:#f92672">}</span>
    <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span>

<span style="color:#75715e">/*************************åˆ†éš”çº¿****************************/</span>

<span style="color:#75715e">/**
</span><span style="color:#75715e"> *  æµ‹è¯•ç±»
</span><span style="color:#75715e"> *  å°†ä¸Šé¢å®ç° Runnable æ¥å£çš„ç±»å®ä¾‹åŒ–
</span><span style="color:#75715e"> */</span>
<span style="color:#66d9ef">public</span> calss Test <span style="color:#f92672">{</span>
    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">main</span><span style="color:#f92672">(</span>String<span style="color:#f92672">[]</span> args<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
        MyThread myThread <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> MyThread<span style="color:#f92672">();</span>
        <span style="color:#75715e">// å› ä¸ºå®ç° Runnable æ¥å£ç±»çš„å®ä¾‹å¯¹è±¡æ— æ³•è°ƒç”¨ start() æ–¹æ³•ï¼Œæ‰€ä»¥è¦å°†å®ƒäº¤ç»™ Thread ç±»çš„å®ä¾‹å¯¹è±¡
</span><span style="color:#75715e"></span>        Thread thread <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Thread<span style="color:#f92672">(</span>myThread<span style="color:#f92672">);</span>
        <span style="color:#75715e">// è°ƒç”¨ start æ–¹æ³•ï¼Œå¯åŠ¨çº¿ç¨‹ï¼Œè®©å…¶å˜ä¸º Runnableï¼ˆå¯è¿è¡ŒçŠ¶æ€ï¼‰
</span><span style="color:#75715e"></span>        thread<span style="color:#f92672">.</span><span style="color:#a6e22e">start</span><span style="color:#f92672">();</span>

        <span style="color:#66d9ef">while</span> <span style="color:#f92672">(</span><span style="color:#66d9ef">true</span><span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
            System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;main thread running...&#34;</span><span style="color:#f92672">)</span>
        <span style="color:#f92672">}</span>
    <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span></code></pre></div>
<p>ä¸Šé¢ä»£ç ä¸ºäº†æ¼”ç¤ºæ‰€ä»¥å†™çš„æ¯”è¾ƒå¤šä½™ï¼Œå› ä¸ºå®ä¾‹å‡ºçš„å¯¹è±¡æ²¡å•¥æ“ä½œï¼Œæ‰€ä»¥å¯ä»¥è¿›è¡Œ <strong>ç®€åŒ–</strong></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#75715e">// extends Thread class
</span><span style="color:#75715e"></span><span style="color:#f92672">(</span><span style="color:#66d9ef">new</span> myThread<span style="color:#f92672">()).</span><span style="color:#a6e22e">start</span><span style="color:#f92672">();</span>

<span style="color:#75715e">// implements Runnable interface
</span><span style="color:#75715e"></span><span style="color:#f92672">(</span><span style="color:#66d9ef">new</span> Thread<span style="color:#f92672">(</span><span style="color:#66d9ef">new</span> myThread<span style="color:#f92672">())).</span><span style="color:#a6e22e">start</span><span style="color:#f92672">();</span>

<span style="color:#75715e">// implements Runnable by use lambda expression
</span><span style="color:#75715e">// ç”¨ Î» è¡¨è¾¾å¼ç®€åŒ–åŒ¿åå†…éƒ¨ç±»ï¼Œä»è€Œçœå»ä¸­é—´çš„å®ç°ç±»
</span><span style="color:#75715e"></span><span style="color:#f92672">(</span><span style="color:#66d9ef">new</span> Thread<span style="color:#f92672">(</span> <span style="color:#f92672">()</span> <span style="color:#f92672">-&gt;</span> <span style="color:#f92672">{</span>
    <span style="color:#66d9ef">while</span> <span style="color:#f92672">(</span><span style="color:#66d9ef">true</span><span style="color:#f92672">){</span>
        System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;my thread running...&#34;</span><span style="color:#f92672">)</span>
    <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span> <span style="color:#f92672">)).</span><span style="color:#a6e22e">start</span><span style="color:#f92672">();</span></code></pre></div>
<p>ä»ä¸Šé¢ä¸¤ç§åˆ›å»ºæ–¹å¼å¯çŸ¥ï¼š</p>

<p><strong style="color: red">ç›¸åŒç‚¹</strong> : ä¸¤ç§æ–¹å¼éƒ½è¦é‡å†™ run() æ–¹æ³•æ‰è¡Œï¼Œå¯åŠ¨çº¿ç¨‹æ—¶ï¼Œä¹Ÿéƒ½æ˜¯è¦è°ƒç”¨ start() æ–¹æ³•</p>

<p><strong style="color: orange">ä¸åŒç‚¹</strong> : ç»§æ‰¿ç±»çš„å®ä¾‹å¯¹è±¡ç›´æ¥è°ƒç”¨ start()ï¼Œè€Œå®ç°ç±»çš„å®ä¾‹å¯¹è±¡è¦äº¤ç»™ Thread å¯¹è±¡æ‰èƒ½è°ƒç”¨ start()</p>

<p><img src="https://cdn.jsdelivr.net/gh/junq0420/blog_image/running_map.jpg" alt="æ‰§è¡Œå›¾" /></p>

<blockquote style="background-color: #689; font-style: italic; color: black; border-left: 2px solid red">ã€é—®é¢˜ã€‘çº¿ç¨‹ä¸ºä»€ä¹ˆä¸ç›´æ¥è°ƒç”¨ run() æ–¹æ³•ï¼Œè€Œæ˜¯è°ƒç”¨çš„ start() æ–¹æ³•ï¼Ÿ

ã€è§£ç­”ã€‘ç”±äºå¤šçº¿ç¨‹çš„æ‰§è¡Œæ˜¯å„ä¸å½±å“çš„ï¼Œæ‰€ä»¥æ¯ä¸ªçº¿ç¨‹éƒ½ä¼šæœ‰ä¸€ä¸ªç‹¬ç«‹çš„æ ˆã€‚è€Œè‹¥åœ¨ main ä¸­ç›´æ¥è°ƒç”¨ run() æ–¹æ³•ï¼Œé‚£ä¹ˆæ‰€è¿›çš„æ ˆå°±æ˜¯ä¸»çº¿ç¨‹å½“å‰çš„æ ˆï¼Œè¿™æ ·å°±ä¼šå½±å“åˆ°ä¸»çº¿ç¨‹çš„æ‰§è¡Œï¼Œå°±ä¸æ˜¯å¤šçº¿ç¨‹äº†ã€‚é€šè¿‡è°ƒç”¨ start() åˆ™æ˜¯åˆ†é…åˆ°ç‹¬ç«‹çš„å †æ ˆï¼Œåœ¨æ–°çš„æ ˆä¸­è°ƒç”¨ run() æ‰§è¡Œç¨‹åºï¼Œå³å¼€å¯äº†æ–°çš„çº¿ç¨‹
</blockquote>

<p>å½“åˆ›å»ºçº¿ç¨‹æ—¶ï¼Œè¿˜å¯ä»¥è®¾ç½®çº¿ç¨‹çš„åå­—</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#75715e">// åœ¨ Thread çš„æœ‰å‚æ„é€ å™¨è®¾ç½®çº¿ç¨‹å
</span><span style="color:#75715e"></span><span style="color:#66d9ef">new</span> Thread<span style="color:#f92672">(</span>myThread<span style="color:#f92672">,</span> <span style="color:#e6db74">&#34;mythread&#34;</span><span style="color:#f92672">);</span>

<span style="color:#75715e">// è·å–å½“å‰çº¿ç¨‹å
</span><span style="color:#75715e"></span>String threadName <span style="color:#f92672">=</span> Thread<span style="color:#f92672">.</span><span style="color:#a6e22e">currentThread</span><span style="color:#f92672">().</span><span style="color:#a6e22e">getName</span><span style="color:#f92672">();</span></code></pre></div>
<hr />

<h2 id="a-name-å¤šçº¿ç¨‹æŠ¢é‹-a-å¤šçº¿ç¨‹æŠ¢é‹"><a name="å¤šçº¿ç¨‹æŠ¢é‹">ğŸ‘Ÿ</a> å¤šçº¿ç¨‹æŠ¢é‹</h2>

<p>åœ¨å¦‚ä»Šäº’è”ç½‘å‘è¾¾çš„æ—¶ä»£ï¼Œå¤šçº¿ç¨‹çš„ä½¿ç”¨å°±åœ¨æˆ‘ä»¬æ—¥å¸¸ç”Ÿæ´»ä¸­ã€‚æ¯”å¦‚ï¼šåŒåä¸€çš„æ·˜å®æŠ¢è´­ã€ç«è½¦ç«™ä¹°ç¥¨ç­‰ï¼Œå°±è¿å…¬å…±å•æ‰€çš„å ç”¨ä¹Ÿå¯ä»¥ç”¨å¤šçº¿ç¨‹è§£é‡Šã€‚å®ƒä¸»è¦çš„ç‰¹ç‚¹å°±æ˜¯å¤šä¸ªçº¿ç¨‹å¯¹å…±äº«èµ„æºçš„æŠ¢å ï¼Œä¸‹é¢å°±ä»¥æŠ¢é‹ä¸ºä¾‹ã€‚</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#75715e">/**
</span><span style="color:#75715e"> *  å®ç° Runnable ç±»
</span><span style="color:#75715e"> *  å®šä¹‰é‹çš„æ•°é‡ä»¥åŠé‹è¢«æŠ¢åæ‰“å°ä¿¡æ¯
</span><span style="color:#75715e"> */</span>
<span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">ShoesThread</span> <span style="color:#66d9ef">implements</span> Runnale <span style="color:#f92672">{</span>
    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">int</span> shoes <span style="color:#f92672">=</span> 10<span style="color:#f92672">;</span>  <span style="color:#75715e">// å‡å®šæœ‰ååŒé‹
</span><span style="color:#75715e"></span>
    <span style="color:#a6e22e">@Override</span>
    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">run</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
        <span style="color:#66d9ef">while</span> <span style="color:#f92672">(</span>shoes <span style="color:#f92672">&gt;</span> 0<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
            <span style="color:#75715e">// æ˜¾ç¤ºè°æŠ¢åˆ°ç¬¬å‡ åŒé‹
</span><span style="color:#75715e"></span>            System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>Thread<span style="color:#f92672">.</span><span style="color:#a6e22e">currentThread</span><span style="color:#f92672">().</span><span style="color:#a6e22e">getName</span><span style="color:#f92672">()</span> <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34;æŠ¢åˆ°ç¬¬&#34;</span> <span style="color:#f92672">+</span> <span style="color:#f92672">(</span>shoes<span style="color:#f92672">--)</span> <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34;åŒé‹!!!&#34;</span><span style="color:#f92672">);</span>
        <span style="color:#f92672">}</span>
    <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span>

<span style="color:#75715e">/**************************åˆ†éš”çº¿***************************/</span>

<span style="color:#75715e">/**
</span><span style="color:#75715e"> *  æ¨¡æ‹Ÿä¸‰ä¸ªç”¨æˆ·æŠ¢é‹
</span><span style="color:#75715e"> */</span>
<span style="color:#66d9ef">public</span> calss Test <span style="color:#f92672">{</span>
    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">main</span><span style="color:#f92672">(</span>String<span style="color:#f92672">[]</span> args<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
        <span style="color:#75715e">// å®ä¾‹åŒ– ShoesThread
</span><span style="color:#75715e"></span>        ShoesThread shoesThread <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> ShoesThread<span style="color:#f92672">();</span>
        <span style="color:#75715e">// åˆ›å»ºå¹¶å¼€å¯ä¸‰ä¸ªç”¨æˆ·çº¿ç¨‹
</span><span style="color:#75715e"></span>        <span style="color:#66d9ef">new</span> Thread<span style="color:#f92672">(</span>shoesThread<span style="color:#f92672">,</span> <span style="color:#e6db74">&#34;Tom&#34;</span><span style="color:#f92672">).</span><span style="color:#a6e22e">start</span><span style="color:#f92672">();</span>
        <span style="color:#66d9ef">new</span> Thread<span style="color:#f92672">(</span>shoesThread<span style="color:#f92672">,</span> <span style="color:#e6db74">&#34;Jerry&#34;</span><span style="color:#f92672">).</span><span style="color:#a6e22e">start</span><span style="color:#f92672">();</span>
        <span style="color:#66d9ef">new</span> Thread<span style="color:#f92672">(</span>shoesThread<span style="color:#f92672">,</span> <span style="color:#e6db74">&#34;Frank&#34;</span><span style="color:#f92672">).</span><span style="color:#a6e22e">start</span><span style="color:#f92672">();</span>
    <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span></code></pre></div>
<p>è¿è¡Œç»“æœå›¾å¦‚ä¸‹ï¼š</p>

<p><img src="https://cdn.jsdelivr.net/gh/junq0420/blog_image/LootShoes.jpg" alt="æŠ¢é‹" width="70%"></p>

<p>å½“ç„¶ï¼Œç”¨ç»§æ‰¿ Thread ç±»ä¹Ÿèƒ½å®ç°è¿™ç§æŠ¢å¤ºå…¬å…±èµ„æºçš„æƒ…å½¢ï¼Œåªéœ€å°† <code>implements Runnable</code> æ”¹ä¸º <code>extends Thread</code> å³å¯</p>

<p>æ³¨æ„ä¸ä¸‹é¢çš„ä¾‹å­åŒºåˆ«å¼€æ¥</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">main</span><span style="color:#f92672">(</span>String<span style="color:#f92672">[]</span> args<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
    <span style="color:#75715e">// è¿™æ ·å†™å°±æ˜¯ä¸‰å®¶é‹åº—ï¼Œä¸€äººæŠ¢ä¸€å®¶ï¼Œå„æŠ¢ååŒ
</span><span style="color:#75715e"></span>    <span style="color:#75715e">// è¿™æ ·å°±ä¸æ˜¯ä¸‰ä¸ªçº¿ç¨‹æŠ¢å å…±äº«èµ„æºäº†
</span><span style="color:#75715e"></span>    <span style="color:#66d9ef">new</span> Thread<span style="color:#f92672">(</span><span style="color:#66d9ef">new</span> ShoesThread<span style="color:#f92672">(),</span> <span style="color:#e6db74">&#34;Tom&#34;</span><span style="color:#f92672">).</span><span style="color:#a6e22e">start</span><span style="color:#f92672">();</span>
    <span style="color:#66d9ef">new</span> Thread<span style="color:#f92672">(</span><span style="color:#66d9ef">new</span> ShoesThread<span style="color:#f92672">(),</span> <span style="color:#e6db74">&#34;Jerry&#34;</span><span style="color:#f92672">).</span><span style="color:#a6e22e">start</span><span style="color:#f92672">();</span>
    <span style="color:#66d9ef">new</span> Thread<span style="color:#f92672">(</span><span style="color:#66d9ef">new</span> ShoesThread<span style="color:#f92672">(),</span> <span style="color:#e6db74">&#34;Frank&#34;</span><span style="color:#f92672">).</span><span style="color:#a6e22e">start</span><span style="color:#f92672">();</span>
    
<span style="color:#f92672">}</span></code></pre></div>
<p><strong style="color: #2ff; font-size: 120%;">æ³¨æ„</strong></p>

<p>ç»§æ‰¿ Thread ç±»ä¸å®ç° Runnable æ¥å£åœ¨ç”¨æ³•ä¸Šæ²¡å•¥åŒºåˆ«ï¼Œä½†ç”±äº Java åªæ”¯æŒå•ç»§æ‰¿ï¼Œæ‰€ä»¥ç»§æ‰¿ Thread ç±»çš„æ–¹å¼å°±ä¼šæœ‰å¤§å¤§å±€é™ï¼Œä¸èƒ½å†ç»§æ‰¿å…¶ä»–çš„ç±»ï¼›è€Œå®ç° Runnable æ¥å£çš„ç±»åˆ™è¿˜æœ‰ä¸€ä¸ªç»§æ‰¿å…¶ä»–ç±»çš„æœºä¼šï¼Œè®©å…¶æ›´åŠ çš„çµæ´»ã€‚æ‰€ä»¥ä¸€èˆ¬æ›´å¤šçš„æ˜¯ä½¿ç”¨å®ç° Runnable æ¥å£çš„æ–¹å¼æ¥åˆ›å»ºçº¿ç¨‹</p>

<h3 id="a-name-å®ˆæŠ¤çº¿ç¨‹-a-å®ˆæŠ¤çº¿ç¨‹"><a name="å®ˆæŠ¤çº¿ç¨‹"></a>å®ˆæŠ¤çº¿ç¨‹</h3>

<p>æœ‰å‰å°æŠ¢é‹çš„çº¿ç¨‹ï¼Œé‚£å°±ä¼šæœ‰åå°ç®¡ç†æ›´æ–°æ•°æ®çš„çº¿ç¨‹ï¼Œå³ <strong>å®ˆæŠ¤çº¿ç¨‹</strong></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#75715e">// 1. å®ç° Runnable æ¥å£åˆ›å»ºä¸€ä¸ªçº¿ç¨‹
</span><span style="color:#75715e"></span>Thread daemonThread <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Thread<span style="color:#f92672">(</span> <span style="color:#f92672">()</span> <span style="color:#f92672">-&gt;</span> <span style="color:#f92672">{</span>
    System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;daemon thread is running...&#34;</span><span style="color:#f92672">);</span>
<span style="color:#f92672">}</span> <span style="color:#f92672">);</span>

<span style="color:#75715e">// 2. å°†åˆ›å»ºçš„çº¿ç¨‹è®¾ç½®ä¸ºå®ˆæŠ¤çº¿ç¨‹
</span><span style="color:#75715e"></span>daemonThread<span style="color:#f92672">.</span><span style="color:#a6e22e">setDaemon</span><span style="color:#f92672">(</span><span style="color:#66d9ef">true</span><span style="color:#f92672">);</span>

<span style="color:#75715e">// 3. å¼€å¯å®ˆæŠ¤çº¿ç¨‹
</span><span style="color:#75715e"></span>daemonThread<span style="color:#f92672">.</span><span style="color:#a6e22e">start</span><span style="color:#f92672">();</span>

<span style="color:#75715e">// ï¼æ³¨æ„ï¼šå®ˆæŠ¤çº¿ç¨‹è¦å†™åœ¨å…¶ä»–çº¿ç¨‹çš„å‰é¢
</span></code></pre></div>
<p><img src="https://cdn.jsdelivr.net/gh/junq0420/blog_image/daemonThread.jpg" alt="daemon-thread" /></p>

<hr />

<h2 id="a-name-çº¿ç¨‹åŒæ­¥-a-çº¿ç¨‹åŒæ­¥"><a name="çº¿ç¨‹åŒæ­¥">ğŸ”’</a> çº¿ç¨‹åŒæ­¥</h2>

<p>ä¸ºäº†è®©æŠ¢é‹çš„æƒ…å½¢æ›´åŠ è´´è¿‘ç°å®ï¼Œä¸è®©é‹ä¸€ç¬é—´å°±è¢«æŠ¢å®Œï¼Œæ¯è¢«æŠ¢ä¸€åŒå°±å»¶æ—¶ä¸€æ®µæ—¶é—´ã€‚é€šè¿‡ <code>Thread.sleep()</code> æ–¹æ³•æ¥è®©å½“å‰çš„çº¿ç¨‹ç¡çœ ä¸€æ®µæ—¶é—´ï¼Œä»¥æ­¤è¾¾åˆ°å»¶æ—¶çš„æ•ˆæœ</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#75715e">/**
</span><span style="color:#75715e"> *  ä½¿ç”¨ sleep() æ–¹æ³•å»¶æ—¶æŠ¢é‹
</span><span style="color:#75715e"> */</span>
<span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">ShoesThread</span> <span style="color:#66d9ef">implements</span> Runnale <span style="color:#f92672">{</span>
    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">int</span> shoes <span style="color:#f92672">=</span> 10<span style="color:#f92672">;</span>  <span style="color:#75715e">// å‡å®šæœ‰ååŒé‹
</span><span style="color:#75715e"></span>
    <span style="color:#a6e22e">@Override</span>
    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">run</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
        <span style="color:#66d9ef">while</span> <span style="color:#f92672">(</span>shoes <span style="color:#f92672">&gt;</span> 0<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
            <span style="color:#75715e">// ä½¿ç”¨ sleep() æ—¶ï¼Œè¦æ•è· InterruptedException
</span><span style="color:#75715e"></span>            <span style="color:#75715e">// å½“è¯¥çº¿ç¨‹è¿è¡Œä¸­è¢«ä¸­æ–­æ—¶æŠ›å‡º
</span><span style="color:#75715e"></span>            <span style="color:#66d9ef">try</span> <span style="color:#f92672">{</span>
                Thread<span style="color:#f92672">.</span><span style="color:#a6e22e">sleep</span><span style="color:#f92672">(</span>500<span style="color:#f92672">);</span>  <span style="color:#75715e">// çº¿ç¨‹ç¡çœ 0.5ç§’
</span><span style="color:#75715e"></span>            <span style="color:#f92672">}</span> <span style="color:#66d9ef">catch</span> <span style="color:#f92672">(</span>InterruptedException e<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
                <span style="color:#66d9ef">return</span><span style="color:#f92672">;</span>
            <span style="color:#f92672">}</span>

            <span style="color:#75715e">// æ˜¾ç¤ºè°æŠ¢åˆ°ç¬¬å‡ åŒé‹
</span><span style="color:#75715e"></span>            System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>Thread<span style="color:#f92672">.</span><span style="color:#a6e22e">currentThread</span><span style="color:#f92672">().</span><span style="color:#a6e22e">getName</span><span style="color:#f92672">()</span> <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34;æŠ¢åˆ°ç¬¬&#34;</span> <span style="color:#f92672">+</span> <span style="color:#f92672">(</span>shoes<span style="color:#f92672">--)</span> <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34;åŒé‹!!!&#34;</span><span style="color:#f92672">);</span>
        <span style="color:#f92672">}</span>
    <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span></code></pre></div>
<p>ä½†æ˜¯ï¼ŒåŠ ä¸Šå»¶æ—¶åç¨‹åºçš„è¿è¡Œå°±å‡ºç°é—®é¢˜</p>

<p><img src="https://cdn.jsdelivr.net/gh/junq0420/blog_image/no_safe.jpg" alt="çº¿ç¨‹ä¸å®‰å…¨" /></p>

<p>è¿™å°±è¡¨æ˜çº¿ç¨‹æ˜¯ <strong>éå®‰å…¨ã€ä¸åŒæ­¥</strong> çš„ï¼Œä¸‹é¢å°±ä»‹ç»ä¸‰ç§æ–¹æ³•ä½¿å¾—çº¿ç¨‹åŒæ­¥</p>

<h3 id="a-name-é”å¯¹è±¡-a-é”å¯¹è±¡"><a name="é”å¯¹è±¡"></a>é”å¯¹è±¡</h3>

<p>å…ˆåˆ›å»ºä¸€ä¸ª Object ç±»çš„å¯¹è±¡ lockï¼Œç„¶åäº¤ç»™ <code>synchronized(lock) {...}</code> ï¼ˆèŠ±æ‹¬å·å«åŒæ­¥ä»£ç å—ï¼‰ï¼Œè®©åŒæ­¥ä»£ç å—åŒ…ä½ while çš„å†…å®¹å³å¯</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#75715e">/**
</span><span style="color:#75715e"> *  é”å¯¹è±¡åŒæ­¥
</span><span style="color:#75715e"> *  å¯èƒ½ç”±äº CPU çš„è¿ç®—é€Ÿåº¦å¤ªå¿«ï¼Œå¯¼è‡´åªæœ‰ä¸€ä¸ªçº¿ç¨‹åœ¨æ‰§è¡Œ
</span><span style="color:#75715e"> *  æ‰€ä»¥å°†é‹æ•°æ”¹ä¸º 50ï¼Œwhile æ”¹ä¸ºæ­»å¾ªç¯ï¼Œç”¨ if è¯­å¥åšåˆ¤æ–­
</span><span style="color:#75715e"> */</span>
<span style="color:#66d9ef">private</span> <span style="color:#66d9ef">int</span> shoes <span style="color:#f92672">=</span> 50<span style="color:#f92672">;</span>
Object lock <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Object<span style="color:#f92672">();</span>

<span style="color:#a6e22e">@Override</span>
<span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">run</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
    <span style="color:#66d9ef">while</span> <span style="color:#f92672">(</span><span style="color:#66d9ef">true</span><span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
        <span style="color:#66d9ef">synchronized</span><span style="color:#f92672">(</span>lock<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
            <span style="color:#66d9ef">if</span> <span style="color:#f92672">(</span>shoes <span style="color:#f92672">&gt;</span> 0<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
                <span style="color:#66d9ef">try</span> <span style="color:#f92672">{</span>
                    Thread<span style="color:#f92672">.</span><span style="color:#a6e22e">sleep</span><span style="color:#f92672">(</span>500<span style="color:#f92672">);</span>
                <span style="color:#f92672">}</span> <span style="color:#66d9ef">catch</span> <span style="color:#f92672">(</span>InterruptedException e<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
                e<span style="color:#f92672">.</span><span style="color:#a6e22e">printStackTrace</span><span style="color:#f92672">();</span>
                <span style="color:#f92672">}</span>

                System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>Thread<span style="color:#f92672">.</span><span style="color:#a6e22e">currentThread</span><span style="color:#f92672">().</span><span style="color:#a6e22e">getName</span><span style="color:#f92672">()</span> <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34;æŠ¢åˆ°ç¬¬&#34;</span> <span style="color:#f92672">+</span> <span style="color:#f92672">(</span>shoes<span style="color:#f92672">--)</span> <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34;åŒé‹!!!&#34;</span><span style="color:#f92672">);</span>
            <span style="color:#f92672">}</span>
        <span style="color:#f92672">}</span>
    <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span></code></pre></div>
<p>ç»è¿‡å‡ æ¬¡è¿è¡Œï¼Œå¾—åˆ°äº†ä¸‰ä¸ªçº¿ç¨‹åŒæ­¥å…±äº«å˜é‡çš„æƒ…å†µ</p>

<p><img src="https://cdn.jsdelivr.net/gh/junq0420/blog_image/synchronized.jpg" alt="çº¿ç¨‹åŒæ­¥" /></p>

<h3 id="a-name-åŒæ­¥æ–¹æ³•-a-åŒæ­¥æ–¹æ³•"><a name="åŒæ­¥æ–¹æ³•"></a>åŒæ­¥æ–¹æ³•</h3>

<p>ä¸é”å¯¹è±¡ç±»ä¼¼ï¼Œåªä¸è¿‡ä¸ç”¨æ–°å»º Object å¯¹è±¡ï¼Œå°†åŒæ­¥ä»£ç å—çš„å†…å®¹ç›´æ¥æ‹¿å‡ºå»ä½œä¸ºä¸€ä¸ªæ–¹æ³•æ¥ç›´æ¥è°ƒç”¨ã€‚ä¸é”å¯¹è±¡ç›¸æ¯”ï¼Œåˆ™ <strong>æ›´æ¨èåŒæ­¥æ–¹æ³•</strong></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#66d9ef">private</span> <span style="color:#66d9ef">int</span> shoes <span style="color:#f92672">=</span> 50<span style="color:#f92672">;</span>

<span style="color:#a6e22e">@Override</span>
<span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">run</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
    <span style="color:#66d9ef">while</span> <span style="color:#f92672">(</span><span style="color:#66d9ef">true</span><span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
        shoesCatch<span style="color:#f92672">();</span>
    <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span>

<span style="color:#75715e">/**********************åˆ†éš”çº¿**************************/</span>
<span style="color:#75715e">/**
</span><span style="color:#75715e"> *  åŒæ­¥æ–¹æ³•
</span><span style="color:#75715e"> */</span>
<span style="color:#66d9ef">public</span> <span style="color:#66d9ef">synchronized</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">shoesCatch</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
    <span style="color:#66d9ef">if</span> <span style="color:#f92672">(</span>shoes <span style="color:#f92672">&gt;</span> 0<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
        <span style="color:#66d9ef">try</span> <span style="color:#f92672">{</span>
            Thread<span style="color:#f92672">.</span><span style="color:#a6e22e">sleep</span><span style="color:#f92672">(</span>500<span style="color:#f92672">);</span>
        <span style="color:#f92672">}</span> <span style="color:#66d9ef">catch</span> <span style="color:#f92672">(</span>InterruptedException e<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
            e<span style="color:#f92672">.</span><span style="color:#a6e22e">printStackTrace</span><span style="color:#f92672">();</span>
        <span style="color:#f92672">}</span>

        System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>Thread<span style="color:#f92672">.</span><span style="color:#a6e22e">currentThread</span><span style="color:#f92672">().</span><span style="color:#a6e22e">getName</span><span style="color:#f92672">()</span> <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34;æŠ¢åˆ°ç¬¬&#34;</span> <span style="color:#f92672">+</span> <span style="color:#f92672">(</span>shoes<span style="color:#f92672">--)</span> <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34;åŒé‹!!!&#34;</span><span style="color:#f92672">);</span>
    <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span></code></pre></div>
<h3 id="a-name-åŒæ­¥é”-a-åŒæ­¥é”"><a name="åŒæ­¥é”"></a>åŒæ­¥é”</h3>

<p>é™¤äº†é”å¯¹è±¡å’ŒåŒæ­¥æ–¹æ³•å¤–ï¼Œè¿˜æœ‰ä½¿ç”¨åŒæ­¥é”çš„æ–¹æ³•æ¥è¾¾åˆ°çº¿ç¨‹åŒæ­¥ï¼Œå®ƒéœ€è¦å…ˆæå‰ new Lock ç±»çš„å¯¹è±¡ï¼Œç„¶åä½¿ç”¨å®ƒçš„ <code>lock()</code> å’Œ <code>unlock()</code> æ–¹æ³•åŒ…ä½è¦åŒæ­¥çš„å†…å®¹</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#75715e">/**
</span><span style="color:#75715e"> *  åŒæ­¥é”
</span><span style="color:#75715e"> */</span>
<span style="color:#66d9ef">private</span> <span style="color:#66d9ef">int</span> shoes <span style="color:#f92672">=</span> 50<span style="color:#f92672">;</span>
Lock reentrantLock <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> ReentrantLock<span style="color:#f92672">();</span>  <span style="color:#75715e">// æ–°å»ºåŒæ­¥é”å¯¹è±¡
</span><span style="color:#75715e"></span>

<span style="color:#a6e22e">@Override</span>
<span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">run</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
    <span style="color:#66d9ef">while</span> <span style="color:#f92672">(</span><span style="color:#66d9ef">true</span><span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
        <span style="color:#75715e">// ä¸Šé”
</span><span style="color:#75715e"></span>        reentrantLock<span style="color:#f92672">.</span><span style="color:#a6e22e">lock</span><span style="color:#f92672">();</span>
        <span style="color:#66d9ef">if</span> <span style="color:#f92672">(</span>shoes <span style="color:#f92672">&gt;</span> 0<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
            <span style="color:#66d9ef">try</span> <span style="color:#f92672">{</span>
                Thread<span style="color:#f92672">.</span><span style="color:#a6e22e">sleep</span><span style="color:#f92672">(</span>500<span style="color:#f92672">);</span>
            <span style="color:#f92672">}</span> <span style="color:#66d9ef">catch</span> <span style="color:#f92672">(</span>InterruptedException e<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
            e<span style="color:#f92672">.</span><span style="color:#a6e22e">printStackTrace</span><span style="color:#f92672">();</span>
            <span style="color:#f92672">}</span>

            System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>Thread<span style="color:#f92672">.</span><span style="color:#a6e22e">currentThread</span><span style="color:#f92672">().</span><span style="color:#a6e22e">getName</span><span style="color:#f92672">()</span> <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34;æŠ¢åˆ°ç¬¬&#34;</span> <span style="color:#f92672">+</span> <span style="color:#f92672">(</span>shoes<span style="color:#f92672">--)</span> <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34;åŒé‹!!!&#34;</span><span style="color:#f92672">);</span>
        <span style="color:#f92672">}</span>
        <span style="color:#75715e">// è§£é”
</span><span style="color:#75715e"></span>        reentrantLock<span style="color:#f92672">.</span><span style="color:#a6e22e">unlock</span><span style="color:#f92672">();</span>
    <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span></code></pre></div>
<p><strong style="color: #f5f; font-size: 120%;">åŒºåˆ«</strong></p>

<ul>
<li><p>synchronized æ˜¯å…³é”®å­—ï¼›Lock æ˜¯æ¥å£</p></li>

<li><p>synchronized è‡ªåŠ¨è·å–é”å’Œé‡Šæ”¾é”ï¼›Lock åˆ™éœ€è¦æ‰‹åŠ¨çš„å»è·å–é”å’Œé‡Šæ”¾é”</p></li>

<li><p>synchronized æ— æ³•åˆ¤æ–­é”çš„çŠ¶æ€ï¼›Lock åˆ™èƒ½åˆ¤æ–­é”çš„çŠ¶æ€</p></li>

<li><p>synchronized åŒæ­¥æ—¶ï¼Œè‹¥ä¸€ä¸ªçº¿ç¨‹é˜»å¡ï¼Œå…¶ä»–çº¿ç¨‹å°±ä¼šä¸€ç›´ç­‰å¾…ï¼›Lock åŒæ­¥æ—¶ï¼Œä¸€ä¸ªçº¿ç¨‹é˜»å¡ï¼Œå…¶ä»–çº¿ç¨‹å¯ä»¥ä¸­æ–­ç­‰å¾…è€Œåšå…¶ä»–çš„äº‹</p></li>

<li><p>synchronized é€‚åˆå°‘é‡ä»£ç çš„åŒæ­¥ï¼›Lock åˆ™é€‚åˆå¤§é‡ä»£ç çš„åŒæ­¥</p></li>
</ul>

<p>æ›´å¤šçš„åŒºåˆ«å‚è€ƒï¼š</p>

<p><a href="https://juejin.cn/post/7072286719566938148">Lockä¸synchronizedçš„åŒºåˆ«ï¼Ÿ</a> | <a href="https://juejin.cn/post/6844903984033972237">JavaåŒæ­¥é”-synchronizedä¸lock</a> | <a href="https://juejin.cn/post/7011857300562542599">JUCå¹¶å‘ç¼–ç¨‹â€”Synchronizedé”å’Œ Lock é”</a></p>

<hr />

<h2 id="a-name-threadç±»-a-thread-ç±»"><a name="Threadç±»">ğŸ¤</a> Thread ç±»</h2>

<p>ä¸‹é¢ä»…åˆ—ä¸¾å­¦ä¹ æ—¶æ‰€ç”¨æˆ–æ‰€èƒ½ç†è§£çš„æ–¹æ³•ï¼Œæ›´è¯¦å°½çš„å‚è€ƒ<a href="https://docs.oracle.com/javase/9/docs/api/index.html?overview-summary.html">API DOC</a></p>

<h3 id="å­—æ®µ">å­—æ®µ</h3>

<ul>
<li><p><strong><em><code>MAX_PRIORITY</code></em></strong> &emsp; // çº¿ç¨‹èƒ½è¾¾åˆ°çš„æœ€å¤§ä¼˜å…ˆçº§</p></li>

<li><p><strong><em><code>MIN_PRIORITY</code></em></strong> &emsp; // çº¿ç¨‹çš„æœ€å°ä¼˜å…ˆçº§</p></li>

<li><p><strong><em><code>NORM_PRIORITY</code></em></strong> &emsp; // çº¿ç¨‹é»˜è®¤çš„ä¼˜å…ˆçº§</p></li>
</ul>

<p><strong>çº¿ç¨‹è°ƒåº¦</strong> ï¼š æ¯ä¸ªçº¿ç¨‹çš„ä¼˜å…ˆçº§éƒ½æ˜¯ç”±ç³»ç»Ÿéšæœºåˆ†é…çš„ï¼Œä½†ä¹Ÿå¯ä»¥é€šè¿‡ <code>setPriority()</code> æ–¹æ³•æ¥è®¾ç½®çº¿ç¨‹çš„ä¼˜å…ˆçº§åˆ«ã€‚çº¿ç¨‹çš„ä¼˜å…ˆçº§èŒƒå›´ä¸º 1 - 10ï¼Œä¸€èˆ¬ä¸»çº¿ç¨‹ main çš„ä¼˜å…ˆçº§ä¸º 5ã€‚åœ¨ WIN10 ä¸Šé€šè¿‡ä»£ç éªŒè¯ï¼Œå¤§ä½“ä¸Šçœ‹ä¼˜å…ˆçº§é«˜çš„ä¼šå…ˆæ‰§è¡Œï¼Œä½†å¯èƒ½ç”±äº CPU å¤„ç†å¤ªå¿«æˆ–è€…æ“ä½œç³»ç»Ÿå¯¹ä¼˜å…ˆçº§çš„æ”¯æŒä¸åŒï¼Œè¿˜æ˜¯ä¸å¤ªç†æƒ³ï¼Œæœ‰äº¤å‰æ‰§è¡Œçš„æƒ…å†µ</p>

<h3 id="æ„é€ å™¨">æ„é€ å™¨</h3>

<ul>
<li><p><strong><em><code>Thread()</code></em></strong> &emsp; // æ— å‚æ„é€ å™¨ï¼Œç”Ÿæˆä¸€ä¸ªçº¿ç¨‹å¯¹è±¡</p></li>

<li><p><strong><em><code>Thread(Runnable target)</code></em></strong> &emsp; // æ¥æ”¶ Runnable çš„å®ç°ç±»å¯¹è±¡</p></li>

<li><p><strong><em><code>Thread(Runnable target, String name)</code></em></strong> &emsp; // æ¥æ”¶ Runnable çš„å®ç°ç±»å¯¹è±¡ï¼Œå¹¶è®¾ç½®è¯¥çº¿ç¨‹çš„åå­—</p></li>
</ul>

<h3 id="é™æ€æ–¹æ³•">é™æ€æ–¹æ³•</h3>

<ul>
<li><p><strong><em><code>currentThread()</code></em></strong> &emsp; // è¿”å›å½“å‰æ‰§è¡Œçº¿ç¨‹å¯¹è±¡</p></li>

<li><p><strong><em><code>interrupted()</code></em></strong> &emsp; // åˆ¤æ–­å½“å‰çº¿ç¨‹æ˜¯å¦ä¸­æ–­ï¼Œä¸­æ–­è¿”å› trueï¼›å¦åˆ™ false</p></li>

<li><p><strong><em><code>sleepâ€‹(long millis)</code></em></strong> &emsp; // è®©å½“å‰çš„çº¿ç¨‹ç¡ millis æ¯«ç§’</p></li>

<li><p><strong><em><code>yield()</code></em></strong> &emsp; // çº¿ç¨‹è®©æ­¥ï¼Œå‘è°ƒåº¦ç¨‹åºæç¤ºå½“å‰çº¿ç¨‹æ„¿æ„æ”¾å¼ƒå…¶å½“å‰å¯¹ CPU çš„ä½¿ç”¨</p></li>
</ul>

<h3 id="å®ä¾‹æ–¹æ³•">å®ä¾‹æ–¹æ³•</h3>

<ul>
<li><p><strong><em><code>start()</code></em></strong> &emsp; // å¼€å¯çº¿ç¨‹</p></li>

<li><p><strong><em><code>getId() | getName() | getPriority()</code></em></strong> &emsp; // è·å–è¯¥çº¿ç¨‹çš„ id | çº¿ç¨‹å | ä¼˜å…ˆçº§åˆ«</p></li>

<li><p><strong><em><code>setDaemon(boolean on) | setName(String name) | setPriority(int newPriority)</code></em></strong> &emsp; // è®¾ç½®è¯¥çº¿ç¨‹ä¸ºå®ˆæŠ¤çº¿ç¨‹ | çº¿ç¨‹å | ä¼˜å…ˆçº§åˆ«</p></li>

<li><p><strong><em><code>interrupt()</code></em></strong> &emsp; // ä¸­æ–­è¯¥çº¿ç¨‹ï¼Œä¸­æ–­æœºåˆ¶å‚è€ƒ<a href="https://zhuanlan.zhihu.com/p/149205707#:~:text=%E7%BA%BF%E7%A8%8B%E4%B8%AD%E6%96%AD%E5%8D%B3%E7%BA%BF%E7%A8%8B%E8%BF%90%E8%A1%8C%E8%BF%87%E7%A8%8B%E4%B8%AD%E8%A2%AB%E5%85%B6%E4%BB%96%E7%BA%BF%E7%A8%8B%E7%BB%99%E6%89%93%E6%96%AD%E4%BA%86%EF%BC%8C%E5%AE%83%E4%B8%8E%20stop,%E6%9C%80%E5%A4%A7%E7%9A%84%E5%8C%BA%E5%88%AB%E6%98%AF%EF%BC%9Astop%20%E6%98%AF%E7%94%B1%E7%B3%BB%E7%BB%9F%E5%BC%BA%E5%88%B6%E7%BB%88%E6%AD%A2%E7%BA%BF%E7%A8%8B%EF%BC%8C%E8%80%8C%E7%BA%BF%E7%A8%8B%E4%B8%AD%E6%96%AD%E5%88%99%E6%98%AF%E7%BB%99%E7%9B%AE%E6%A0%87%E7%BA%BF%E7%A8%8B%E5%8F%91%E9%80%81%E4%B8%80%E4%B8%AA%E4%B8%AD%E6%96%AD%E4%BF%A1%E5%8F%B7%EF%BC%8C%E5%A6%82%E6%9E%9C%E7%9B%AE%E6%A0%87%E7%BA%BF%E7%A8%8B%E6%B2%A1%E6%9C%89%E6%8E%A5%E6%94%B6%E7%BA%BF%E7%A8%8B%E4%B8%AD%E6%96%AD%E7%9A%84%E4%BF%A1%E5%8F%B7%E5%B9%B6%E7%BB%93%E6%9D%9F%E7%BA%BF%E7%A8%8B%EF%BC%8C%E7%BA%BF%E7%A8%8B%E5%88%99%E4%B8%8D%E4%BC%9A%E7%BB%88%E6%AD%A2%EF%BC%8C%E5%85%B7%E4%BD%93%E6%98%AF%E5%90%A6%E9%80%80%E5%87%BA%E6%88%96%E8%80%85%E6%89%A7%E8%A1%8C%E5%85%B6%E4%BB%96%E9%80%BB%E8%BE%91%E7%94%B1%E7%9B%AE%E6%A0%87%E7%BA%BF%E7%A8%8B%E5%86%B3%E5%AE%9A%E3%80%82">è¿™é‡Œ</a>ã€<a href="https://docs.oracle.com/javase/tutorial/essential/concurrency/interrupt.html">å®˜ç½‘æ•™ç¨‹</a></p></li>

<li><p><strong><em><code>isAlive()</code></em></strong> &emsp; // åˆ¤æ–­è¯¥çº¿ç¨‹æ˜¯å¦è¿˜å­˜æ´»</p></li>

<li><p><strong><em><code>isDaemon()</code></em></strong> &emsp; // åˆ¤æ–­è¯¥çº¿ç¨‹æ˜¯å¦ä¸ºå®ˆæŠ¤çº¿ç¨‹</p></li>

<li><p><strong><em><code>isInterrupted()</code></em></strong> &emsp; // åˆ¤æ–­è¯¥çº¿ç¨‹æ˜¯å¦è¢«ä¸­æ–­</p></li>

<li><p><strong><em><code>join()</code></em></strong> &emsp; // çº¿ç¨‹æ’é˜Ÿï¼Œè¢«æ’çš„çº¿ç¨‹è¦ç­‰è¯¥çº¿ç¨‹æ‰§è¡Œå®Œæ‰èƒ½ç»§ç»­ï¼›é‡è½½å¯ä»¥è®¾ç½®ç­‰å¾…å¤šå°‘æ¯«ç§’</p></li>
</ul>

<hr />

<h2 id="a-name-çº¿ç¨‹çŠ¶æ€-a-çº¿ç¨‹çŠ¶æ€-ç”Ÿå‘½å‘¨æœŸ"><a name="çº¿ç¨‹çŠ¶æ€">â³</a> çº¿ç¨‹çŠ¶æ€(ç”Ÿå‘½å‘¨æœŸ)</h2>

<p>çº¿ç¨‹é€šå¸¸æœ‰å…­ç§çŠ¶æ€ï¼Œå¦‚ä¸‹æ‰€ç¤ºã€‚å¯ä»¥æŸ¥çœ‹ API ä¸­çš„ <code>java.lang.Thread.State</code></p>

<ul>
<li><p><strong><em><code>New</code></em></strong> &emsp; // æ–°å»ºçŠ¶æ€ï¼Œä½¿ç”¨ new å…³é”®å­—åˆ›å»ºäº†çº¿ç¨‹ï¼Œä½†è¿˜æ²¡å¼€å¯</p></li>

<li><p><strong><em><code>Runnable</code></em></strong> &emsp; // å¯è¿è¡ŒçŠ¶æ€ï¼Œè°ƒç”¨ start() åï¼Œçº¿ç¨‹å¼€å§‹åœ¨ JVM ä¸­æ‰§è¡Œï¼›çº¿ç¨‹è°ƒåº¦æä¾›å›ºå®šçš„æ—¶é—´åˆ‡ç‰‡ç»™æ¯ä¸ªçº¿ç¨‹å»è¿è¡Œï¼ˆå³ Runningï¼‰ï¼Œå½“æ—¶é—´åˆ‡ç‰‡ç»“æŸåï¼Œæ”¾å¼ƒ CPU èµ„æºç»™å…¶ä»–çº¿ç¨‹ï¼Œç­‰å¾…ä¸‹ä¸€è½®æ—¶é—´åˆ‡ç‰‡</p></li>

<li><p><strong><em><code>Block</code></em></strong> &emsp; // é˜»å¡çŠ¶æ€ï¼Œçº¿ç¨‹è¢«é˜»å¡ï¼Œç­‰å¾…ç›‘è§†å™¨é”</p></li>

<li><p><strong><em><code>Waiting</code></em></strong> &emsp; // ç­‰å¾…çŠ¶æ€ï¼Œçº¿ç¨‹ç­‰å¾…å¦å¤–çš„çº¿ç¨‹æ‰§è¡Œç‰¹åˆ«çš„è¡Œä¸º</p></li>

<li><p><strong><em><code>Timed Waiting</code></em></strong> &emsp; // è®¡æ—¶ç­‰å¾…çŠ¶æ€ï¼Œçº¿ç¨‹ç­‰å¾…å¦å¤–çš„çº¿ç¨‹æ‰§è¡Œä¸€ä¸ªåŠ¨ä½œï¼Œç›´åˆ°æŒ‡å®šçš„æ—¶é—´ç»“æŸä¸ºæ­¢ï¼Œé˜²æ­¢çº¿ç¨‹æ­»ç­‰</p></li>

<li><p><strong><em><code>Terminated</code></em></strong> &emsp; // ç»ˆæ­¢çŠ¶æ€ï¼Œçº¿ç¨‹æ­£å¸¸å®Œæˆæ‰€ç»™ä»»åŠ¡æˆ–ä»¥æ„å¤–äº‹ä»¶è€Œç»ˆæ­¢ï¼Œå¦‚ segmentation fault or unhandle exception</p></li>
</ul>

<p><img src="https://cdn.jsdelivr.net/gh/junq0420/blog_image/ThreadState.jpg" alt="ThreadState" /></p>

<p>å¯ä»¥é€šè¿‡è”æƒ³æ–—åœ°ä¸»çš„åœºæ™¯æ¥å¤§è‡´ç†è§£è¿™äº›çº¿ç¨‹çŠ¶æ€ï¼Œä¸‰äººè¿›å…¥æˆ¿é—´å‡†å¤‡å°±ç»ªï¼ˆåˆ›å»ºäº†ä¸‰ä¸ªçº¿ç¨‹ï¼‰ï¼Œéƒ½å‡†å¤‡å¥½äº†å¼€å§‹æ¸¸æˆï¼ˆä¸‰ä¸ªçº¿ç¨‹å¼€å¯ï¼‰ï¼ŒæŠ¢åœ°ä¸»è°æŠ¢åˆ°è°å…ˆå‡ºç‰Œï¼ˆä¸‰ä¸ªçº¿ç¨‹é˜»å¡ï¼ŒæŠ¢åŒæ­¥é”ï¼Œè°æŠ¢åˆ°è°æ‰§è¡Œï¼‰ï¼Œåœ°ä¸»å‡ºç‰Œæ—¶ğŸ‘²å†œæ°‘ğŸ‘¨â€ğŸŒ¾éƒ½åœ¨ç­‰ç€ä¸èƒ½æ‰“ç‰Œï¼ˆæŠ¢åˆ°é”çš„å¼€å§‹æ‰§è¡Œï¼Œå…¶ä»–çº¿ç¨‹ç­‰å¾…ï¼‰ï¼Œè¦æ˜¯åœ¨è§„å®šçš„å‡ºç‰Œæ—¶é—´æœªå‡ºç‰Œå°±ä¼šè½®åˆ°ä¸‹å®¶ï¼ˆå¦å¤–ä¸¤ä¸ªçº¿ç¨‹è®¡æ—¶ç­‰å¾…ï¼Œç­‰åœ°ä¸»å‡ºå®Œç‰Œæˆ–æ—¶é—´åˆ°ï¼‰ï¼Œäºæ˜¯ä¸‰äººå¼€å§‹äº†æ„‰å¿«çš„æ‰“ç‰Œï¼ˆä¸‰ä¸ªçº¿ç¨‹ä¸€ç›´åœ¨é˜»å¡æŠ¢é”ã€æ‰§è¡Œã€ç­‰å¾…ï¼‰ï¼Œç­‰æŸäººæ‰“å®Œç‰Œç»“æŸæ¸¸æˆï¼ˆä¸‰ä¸ªçº¿ç¨‹ç»ˆæ­¢ï¼‰</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">MultithreadingTest</span> <span style="color:#f92672">{</span>
    <span style="color:#75715e">// å£°æ˜ä¸¤ä¸ªçº¿ç¨‹ï¼Œå£°æ˜ä¸º static æ–¹ä¾¿é‡å†™ run() æ—¶å¥½ç›´æ¥ç”¨
</span><span style="color:#75715e"></span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> Thread thread1<span style="color:#f92672">;</span>
    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> Thread thread2<span style="color:#f92672">;</span>

    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">main</span><span style="color:#f92672">(</span>String<span style="color:#f92672">[]</span> args<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
        <span style="color:#75715e">/**
</span><span style="color:#75715e">         *  æ–°å»º thread1
</span><span style="color:#75715e">         */</span> 
        thread1 <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Thread<span style="color:#f92672">(()</span> <span style="color:#f92672">-&gt;</span> <span style="color:#f92672">{</span>
            <span style="color:#75715e">// å…ˆè®©çº¿ç¨‹1æ‰“å° 50 æ¬¡
</span><span style="color:#75715e"></span>            <span style="color:#66d9ef">for</span> <span style="color:#f92672">(</span><span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> 0<span style="color:#f92672">;</span> i <span style="color:#f92672">&lt;</span> 50<span style="color:#f92672">;</span> i<span style="color:#f92672">++)</span> <span style="color:#f92672">{</span>
               System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>Thread<span style="color:#f92672">.</span><span style="color:#a6e22e">currentThread</span><span style="color:#f92672">().</span><span style="color:#a6e22e">getName</span><span style="color:#f92672">()</span> <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34; is running...&#34;</span><span style="color:#f92672">);</span>
               <span style="color:#75715e">// åœ¨æ‰“å°ç¬¬å››æ¬¡æ—¶è®©çº¿ç¨‹2æ’é˜Ÿ
</span><span style="color:#75715e"></span>               <span style="color:#66d9ef">if</span> <span style="color:#f92672">(</span>i <span style="color:#f92672">==</span> 3<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
                   <span style="color:#66d9ef">try</span> <span style="color:#f92672">{</span>
                       thread2<span style="color:#f92672">.</span><span style="color:#a6e22e">join</span><span style="color:#f92672">();</span>
                   <span style="color:#f92672">}</span> <span style="color:#66d9ef">catch</span> <span style="color:#f92672">(</span>InterruptedException e<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
                       e<span style="color:#f92672">.</span><span style="color:#a6e22e">printStackTrace</span><span style="color:#f92672">();</span>
                   <span style="color:#f92672">}</span>
               <span style="color:#f92672">}</span>
            <span style="color:#f92672">}</span>
            
            <span style="color:#75715e">// è®©çº¿ç¨‹1ç¡ä¼š
</span><span style="color:#75715e"></span>            <span style="color:#66d9ef">try</span> <span style="color:#f92672">{</span>
                Thread<span style="color:#f92672">.</span><span style="color:#a6e22e">sleep</span><span style="color:#f92672">(</span>500<span style="color:#f92672">);</span>
            <span style="color:#f92672">}</span> <span style="color:#66d9ef">catch</span> <span style="color:#f92672">(</span>InterruptedException e<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
                e<span style="color:#f92672">.</span><span style="color:#a6e22e">printStackTrace</span><span style="color:#f92672">();</span>
            <span style="color:#f92672">}</span>
        <span style="color:#f92672">},</span> <span style="color:#e6db74">&#34;thread1&#34;</span><span style="color:#f92672">);</span>

        <span style="color:#75715e">/**
</span><span style="color:#75715e">         *  æ–°å»º thread2
</span><span style="color:#75715e">         */</span>
        thread2 <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Thread<span style="color:#f92672">(</span> <span style="color:#f92672">()</span> <span style="color:#f92672">-&gt;</span> <span style="color:#f92672">{</span>
            <span style="color:#75715e">// è®©çº¿ç¨‹2æ‰“å°10ï¼Œå¹¶ä¸”æ¯æ¬¡éƒ½çœ‹ä¸‹çº¿ç¨‹1åœ¨è¢«æ’é˜Ÿåçš„çŠ¶æ€
</span><span style="color:#75715e"></span>            <span style="color:#66d9ef">for</span> <span style="color:#f92672">(</span><span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> 0<span style="color:#f92672">;</span> i <span style="color:#f92672">&lt;</span> 10<span style="color:#f92672">;</span> i<span style="color:#f92672">++)</span> <span style="color:#f92672">{</span>
                System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>Thread<span style="color:#f92672">.</span><span style="color:#a6e22e">currentThread</span><span style="color:#f92672">().</span><span style="color:#a6e22e">getName</span><span style="color:#f92672">()</span> <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34; is running...&#34;</span><span style="color:#f92672">);</span>
                System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;State of thread1 : &#34;</span> <span style="color:#f92672">+</span> thread1<span style="color:#f92672">.</span><span style="color:#a6e22e">getState</span><span style="color:#f92672">());</span>
            <span style="color:#f92672">}</span>
        <span style="color:#f92672">}</span> <span style="color:#f92672">,</span> <span style="color:#e6db74">&#34;thread2&#34;</span><span style="color:#f92672">);</span>

        <span style="color:#75715e">// æŸ¥çœ‹æ–°å»ºçº¿ç¨‹1åçš„çŠ¶æ€
</span><span style="color:#75715e"></span>        System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;State of thread1 : &#34;</span> <span style="color:#f92672">+</span> thread1<span style="color:#f92672">.</span><span style="color:#a6e22e">getState</span><span style="color:#f92672">());</span>
        thread1<span style="color:#f92672">.</span><span style="color:#a6e22e">start</span><span style="color:#f92672">();</span>  <span style="color:#75715e">// å¼€å¯ä¸¤ä¸ªçº¿ç¨‹
</span><span style="color:#75715e"></span>        thread2<span style="color:#f92672">.</span><span style="color:#a6e22e">start</span><span style="color:#f92672">();</span>
        <span style="color:#75715e">// æŸ¥çœ‹å¼€å¯çº¿ç¨‹1åçš„çŠ¶æ€
</span><span style="color:#75715e"></span>        System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;State of thread1 : &#34;</span> <span style="color:#f92672">+</span> thread1<span style="color:#f92672">.</span><span style="color:#a6e22e">getState</span><span style="color:#f92672">());</span>

        <span style="color:#75715e">// è®©ä¸»çº¿ç¨‹ä¸€ç›´è¿½è¸ªçº¿ç¨‹1çŠ¶æ€ï¼Œç»™çŸ­æš‚çš„é—´éš”é˜²æ­¢ä¸»çº¿ç¨‹è¿‡å¤šæŠ¢å 
</span><span style="color:#75715e"></span>        <span style="color:#66d9ef">while</span> <span style="color:#f92672">(</span><span style="color:#66d9ef">true</span><span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
            System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;State of thread1 : &#34;</span> <span style="color:#f92672">+</span> thread1<span style="color:#f92672">.</span><span style="color:#a6e22e">getState</span><span style="color:#f92672">());</span>
            <span style="color:#66d9ef">try</span> <span style="color:#f92672">{</span>
                Thread<span style="color:#f92672">.</span><span style="color:#a6e22e">sleep</span><span style="color:#f92672">(</span>1<span style="color:#f92672">);</span>
            <span style="color:#f92672">}</span> <span style="color:#66d9ef">catch</span> <span style="color:#f92672">(</span>InterruptedException e<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
                e<span style="color:#f92672">.</span><span style="color:#a6e22e">printStackTrace</span><span style="color:#f92672">();</span>
            <span style="color:#f92672">}</span>
        <span style="color:#f92672">}</span>
    <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span></code></pre></div>
<p>ç¨‹åºå¯èƒ½è¿˜ä¸å®Œå–„ï¼Œä½†å¥½åœ¨æœ‰æ—¶èƒ½è¾ƒå¥½åœ°æ˜¾ç¤ºå‡ºçº¿ç¨‹1çš„å…­ä¸ªçŠ¶æ€ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤º</p>

<p><img src="https://cdn.jsdelivr.net/gh/junq0420/blog_image/ThreadStates.jpg" alt="ThreadStates" /></p>

<h2 id="a-name-waitå’Œnotify-a-wait-å’Œ-notify"><a name="waitå’Œnotify">ğŸš§</a> wait å’Œ notify</h2>

<p>wait() å’Œ notify() æ–¹æ³•æ˜¯ç»§æ‰¿è‡ª Object ç±»ï¼Œå½“çº¿ç¨‹ä¸­æŸå¯¹è±¡è°ƒç”¨ wait() æ—¶ï¼Œè¯¥çº¿ç¨‹æš‚æ—¶åœæ­¢æ‰§è¡Œï¼Œä¸€ç›´ç­‰å¾…ï¼Œç›´åˆ°å…¶ä»–çš„çº¿ç¨‹åœ¨åŒä¸€å¯¹è±¡ä¸Šè°ƒç”¨ notify() æ–¹æ³•æ¥å”¤é†’å®ƒã€‚æ‰€ä»¥è¿™äº›çº¿ç¨‹è¦æœ‰å…±åŒçš„å¯¹è±¡ï¼Œè¿™æ ·æ‰èƒ½ä¸å…¶ä»–çš„çº¿ç¨‹å®Œæˆé€šä¿¡ã€‚ä¸‹é¢ä»¥ <code>ç”Ÿäº§è€…-æ¶ˆè´¹è€…</code> çš„ä¾‹å­æ¥æ¼”ç¤º</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#75715e">/**
</span><span style="color:#75715e"> *  äº§å“ç±»
</span><span style="color:#75715e"> */</span>
<span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Condom</span> <span style="color:#f92672">{</span>
    <span style="color:#75715e">// true äº§å“è¿˜æœ‰ï¼Œæ²¡å–å®Œ
</span><span style="color:#75715e"></span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">boolean</span> isStatus <span style="color:#f92672">=</span> <span style="color:#66d9ef">true</span><span style="color:#f92672">;</span>
<span style="color:#f92672">}</span>

<span style="color:#75715e">/**
</span><span style="color:#75715e"> *  ç”Ÿäº§è€…ç±»
</span><span style="color:#75715e"> */</span>
<span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Producer</span> <span style="color:#66d9ef">extends</span> Thread <span style="color:#f92672">{</span>
    <span style="color:#75715e">// å†…éƒ¨æ¥æ”¶äº§å“å¯¹è±¡
</span><span style="color:#75715e"></span>    <span style="color:#66d9ef">private</span> Condom condom<span style="color:#f92672">;</span>
    <span style="color:#66d9ef">public</span> <span style="color:#a6e22e">Producer</span><span style="color:#f92672">(</span>Condom condom<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
        <span style="color:#66d9ef">this</span><span style="color:#f92672">.</span><span style="color:#a6e22e">condom</span> <span style="color:#f92672">=</span> condom<span style="color:#f92672">;</span>
    <span style="color:#f92672">}</span>

    <span style="color:#66d9ef">while</span> <span style="color:#f92672">(</span><span style="color:#66d9ef">true</span><span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
        <span style="color:#75715e">// å°†æ¥æ”¶åˆ°çš„å¯¹è±¡ä½œä¸ºé”å¯¹è±¡
</span><span style="color:#75715e"></span>        <span style="color:#66d9ef">synchronized</span> <span style="color:#f92672">(</span>condom<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
            <span style="color:#66d9ef">if</span> <span style="color:#f92672">(</span>condom<span style="color:#f92672">.</span><span style="color:#a6e22e">isStatus</span> <span style="color:#f92672">==</span> <span style="color:#66d9ef">true</span><span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
                <span style="color:#75715e">// å•†å“è¿˜æœ‰ï¼Œç”Ÿäº§è€…ç­‰å¾…
</span><span style="color:#75715e"></span>                System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;è´§è¿˜æœ‰ï¼Œå¿«ç‚¹ä¹°ï¼Œæˆ‘ç­‰ä½ &#34;</span><span style="color:#f92672">);</span>
                <span style="color:#66d9ef">try</span> <span style="color:#f92672">{</span>
                    condom<span style="color:#f92672">.</span><span style="color:#a6e22e">wait</span><span style="color:#f92672">();</span>
                <span style="color:#f92672">}</span> <span style="color:#66d9ef">catch</span> <span style="color:#f92672">(</span>InterruptedException e<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
                    e<span style="color:#f92672">.</span><span style="color:#a6e22e">printStackTrace</span><span style="color:#f92672">();</span>
                <span style="color:#f92672">}</span>
            <span style="color:#f92672">}</span>
            <span style="color:#75715e">// è‹¥å•†å“æ²¡äº†ï¼Œä¸Šæ»¡è´§ï¼Œé€šçŸ¥æ¶ˆè´¹è€…è´­ä¹°
</span><span style="color:#75715e"></span>            condom<span style="color:#f92672">.</span><span style="color:#a6e22e">isStatus</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">true</span><span style="color:#f92672">;</span>
            System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;å¿«ç‚¹ä¹°è´§ï¼Œé€šçŸ¥ä½ äº†&#34;</span><span style="color:#f92672">);</span>
            condom<span style="color:#f92672">.</span><span style="color:#a6e22e">notify</span><span style="color:#f92672">();</span>    
        <span style="color:#f92672">}</span>
    <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span>

<span style="color:#75715e">/**
</span><span style="color:#75715e"> *  æ¶ˆè´¹è€…ç±»
</span><span style="color:#75715e"> */</span>
<span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Customer</span> <span style="color:#66d9ef">extends</span> Thread <span style="color:#f92672">{</span>
    <span style="color:#75715e">// å†…éƒ¨æ¥æ”¶äº§å“å¯¹è±¡
</span><span style="color:#75715e"></span>    <span style="color:#66d9ef">private</span> Condom condom<span style="color:#f92672">;</span>
    <span style="color:#66d9ef">public</span> <span style="color:#a6e22e">Customer</span><span style="color:#f92672">(</span>Condom condom<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
        <span style="color:#66d9ef">this</span><span style="color:#f92672">.</span><span style="color:#a6e22e">condom</span> <span style="color:#f92672">=</span> condom<span style="color:#f92672">;</span>
    <span style="color:#f92672">}</span>

    <span style="color:#66d9ef">while</span> <span style="color:#f92672">(</span><span style="color:#66d9ef">true</span><span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
        <span style="color:#75715e">// å°†æ¥æ”¶åˆ°çš„å¯¹è±¡ä½œä¸ºé”å¯¹è±¡
</span><span style="color:#75715e"></span>        <span style="color:#66d9ef">synchronized</span> <span style="color:#f92672">(</span>condom<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
            <span style="color:#75715e">// å•†å“æ²¡äº†ï¼Œæ¶ˆè´¹è€…ç­‰å¾…
</span><span style="color:#75715e"></span>            <span style="color:#66d9ef">if</span> <span style="color:#f92672">(</span>condom<span style="color:#f92672">.</span><span style="color:#a6e22e">isStatus</span> <span style="color:#f92672">==</span> <span style="color:#66d9ef">false</span><span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
                System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;è´§å–å®Œäº†ï¼Œå¿«ç‚¹ç”Ÿäº§ï¼Œæˆ‘ç­‰ä½ &#34;</span><span style="color:#f92672">);</span>
                <span style="color:#66d9ef">try</span> <span style="color:#f92672">{</span>
                    condom<span style="color:#f92672">.</span><span style="color:#a6e22e">wait</span><span style="color:#f92672">();</span>
                <span style="color:#f92672">}</span> <span style="color:#66d9ef">catch</span> <span style="color:#f92672">(</span>InterruptedException e<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
                    e<span style="color:#f92672">.</span><span style="color:#a6e22e">printStackTrace</span><span style="color:#f92672">();</span>
                <span style="color:#f92672">}</span>
            <span style="color:#f92672">}</span>
            <span style="color:#75715e">// è‹¥å•†å“è¿˜æœ‰ï¼Œä¹°å®Œè´§ï¼Œé€šçŸ¥ç”Ÿäº§è€…ç”Ÿäº§
</span><span style="color:#75715e"></span>            condom<span style="color:#f92672">.</span><span style="color:#a6e22e">isStatus</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">false</span><span style="color:#f92672">;</span>
            System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;å¿«ç‚¹ä¸Šè´§ï¼Œé€šçŸ¥ä½ äº†&#34;</span><span style="color:#f92672">);</span>
            condom<span style="color:#f92672">.</span><span style="color:#a6e22e">notify</span><span style="color:#f92672">();</span>    
        <span style="color:#f92672">}</span>
    <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span>

<span style="color:#75715e">/**
</span><span style="color:#75715e"> *  æµ‹è¯•ç±»
</span><span style="color:#75715e"> */</span>
<span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Test</span> <span style="color:#f92672">{</span>
    <span style="color:#75715e">// æ–°å»ºä¸€ä¸ªå•†å“å¯¹è±¡
</span><span style="color:#75715e"></span>    Condom condom <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Condom<span style="color:#f92672">();</span>
    <span style="color:#75715e">// è®©ä¸¤çº¿ç¨‹å…±åŒè°ƒç”¨è¯¥å•†å“
</span><span style="color:#75715e"></span>    <span style="color:#66d9ef">new</span> Thread<span style="color:#f92672">(</span><span style="color:#66d9ef">new</span> Producer<span style="color:#f92672">(</span>condom<span style="color:#f92672">),</span> <span style="color:#e6db74">&#34;å‚å®¶&#34;</span><span style="color:#f92672">).</span><span style="color:#a6e22e">start</span><span style="color:#f92672">();</span>
    <span style="color:#66d9ef">new</span> Thread<span style="color:#f92672">(</span><span style="color:#66d9ef">new</span> Customer<span style="color:#f92672">(</span>condom<span style="color:#f92672">),</span> <span style="color:#e6db74">&#34;ä¹°å®¶&#34;</span><span style="color:#f92672">).</span><span style="color:#a6e22e">start</span><span style="color:#f92672">();</span>
<span style="color:#f92672">}</span></code></pre></div>
<p><img src="https://cdn.jsdelivr.net/gh/junq0420/blog_image/producer_customer.jpg" alt="Producer_Customer" /></p>

  

  

</article> 



        </div> <!-- /.blog-main -->

        <aside class="col-sm-3 ml-auto blog-sidebar">
  
  <section class="sidebar-module sidebar-module-inset">
    <h4>About</h4>
    <p dir="auto">æ¬¢è¿è®¿é—®æˆ‘çš„åšå®¢ï¼Œè¿™æ˜¯æˆ‘çš„ <a href="https://github.com/junq0420">Github</a></p>
  </section>
  

  
        <section class="sidebar-module">
    <h4>Recent Posts</h4>
    <ol class="list-unstyled">


<li><a href="/2022/04/collection2/">Collection2</a></li>

<li><a href="/2022/03/develop_standard/">Develop_Standard</a></li>

<li><a href="/2022/03/advance/">Advance</a></li>

<li><a href="/2022/03/querystatement/">QueryStatement</a></li>

<li><a href="/2022/03/primary_key/">Primary_key</a></li>

    </ol>
  </section>

  

  
  <section class="sidebar-module">
    <h4>Links</h4>
    <ol class="list-unstyled">
      
      <li><a href="https://www.bilibili.com/">Bilibili</a></li>
      
      <li><a href="https://www.google.com">Google</a></li>
      
    </ol>
  </section>
  
</aside>


      </div> <!-- /.row -->
    </div> <!-- /.container -->
    

    
    <footer class="blog-footer">
      <p dir="auto">
      
      é™¤éç‰¹åˆ«å£°æ˜, æœ¬ç«™é‡‡ç”¨æŠ€æœ¯ <a href="https://gohugo.io/">Hugo</a> &amp; ä¸»é¢˜ <a href="https://themes.gohugo.io/themes/hugo-theme-bootstrap4-blog/">hugo-theme-bootstrap4-blog</a>.
      
      </p>
      <p>
      <a href="#">Back to top</a>
      </p>
    </footer>
    

  </body>

</html>
